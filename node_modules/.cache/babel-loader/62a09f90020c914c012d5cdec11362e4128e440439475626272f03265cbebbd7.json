{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import styles from\"./Grid.module.css\";import image_light from\"../../assets/images/light.png\";import image_cash from\"../../assets/images/cash.png\";import image_bomb from\"../../assets/images/bomb.png\";import image_five from\"../../assets/images/five.png\";import image_fon_xtwo from\"../../assets/images/x20-fon.png\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Grid(_ref){let{onCardReveal,resetTrigger,onCoinCreate}=_ref;const[carts,setCarts]=useState([]);const[revealed,setRevealed]=useState(Array(9).fill(false));const five=5;const cash=1;const bomb=1;const xtwo=1;const zero=1;useEffect(()=>{const fiveValues=[100,500,1000,10000];const fiveCards=Array(five).fill(null).map(()=>({type:\"five\",value:fiveValues[Math.floor(Math.random()*fiveValues.length)]}));const allCarts=[...fiveCards,...Array(cash).fill({type:\"cash\"}),...Array(bomb).fill({type:\"bomb\"}),...Array(xtwo).fill({type:\"xtwo\"}),...Array(zero).fill({type:\"zero\"})];const shuffled=[...allCarts].sort(()=>Math.random()-0.5);setCarts(shuffled);setRevealed(Array(9).fill(false));},[resetTrigger]);const handleClick=index=>{if(revealed[index])return;const clickedCard=carts[index];setRevealed(prev=>{const updated=[...prev];updated[index]=true;return updated;});if(onCardReveal){onCardReveal(clickedCard,index);}if(onCoinCreate){const cardElement=document.querySelectorAll(\".\".concat(styles.item))[index];const rect=cardElement.getBoundingClientRect();onCoinCreate({x:rect.left+rect.width/2,y:rect.top+rect.height/2},clickedCard);}};const formatNumber=num=>{return num>=1000?\"\".concat(num/1000,\"K\"):num;};return/*#__PURE__*/_jsx(\"div\",{className:styles.Carts,children:/*#__PURE__*/_jsx(\"div\",{className:styles.container,children:/*#__PURE__*/_jsx(\"ul\",{className:styles.list,children:carts.map((card,index)=>{const isRevealed=revealed[index];return/*#__PURE__*/_jsx(\"li\",{className:\"\".concat(styles.item,\" \").concat(isRevealed?styles[card.type]:\"\"),onClick:()=>handleClick(index),children:/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.flipCardInner,\" \").concat(isRevealed?styles.flipped:\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:styles.cardFront,children:/*#__PURE__*/_jsx(\"div\",{className:styles.cover,children:\"$\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.cardBack,\" \").concat(styles.itemData),children:[isRevealed&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"\\n                                                        \".concat(styles.imageLight,\"\\n                                                        \").concat(card.type===\"five\"?styles.imageLightFive:\"\",\"\\n                                                        \").concat(card.type===\"cash\"?styles.imageLightCash:\"\",\"\\n                                                        \").concat(card.type===\"bomb\"?styles.imageLightBomb:\"\",\"\\n                                                        \").concat(card.type===\"xtwo\"?styles.imageLightXtwo:\"\",\"\\n                                                        \").concat(card.type===\"zero\"?styles.imageLightZero:\"\",\"\\n                                                      \"),style:{backgroundImage:\"url(\".concat(image_light,\")\")}}),card.type===\"xtwo\"&&/*#__PURE__*/_jsx(\"div\",{className:styles.imageLightXtwoOverlay,style:{backgroundImage:\"url(\".concat(image_fon_xtwo,\")\")}})]}),card.type===\"five\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{className:styles.iconFive,src:image_five,alt:\"five\"}),/*#__PURE__*/_jsx(\"h1\",{className:styles.number,children:formatNumber(card.value)})]}),card.type===\"bomb\"&&/*#__PURE__*/_jsx(\"img\",{className:styles.iconBomb,src:image_bomb,alt:\"bomb\"}),card.type===\"cash\"&&/*#__PURE__*/_jsx(\"img\",{className:styles.iconCash,src:image_cash,alt:\"cash\"}),card.type===\"xtwo\"&&/*#__PURE__*/_jsx(\"h1\",{className:styles.numberXtwo,children:\"x2\"}),card.type===\"zero\"&&/*#__PURE__*/_jsx(\"h1\",{className:styles.numberZero,children:\"0\"})]})]})},index);})})})});}export default Grid;","map":{"version":3,"names":["React","useState","useEffect","styles","image_light","image_cash","image_bomb","image_five","image_fon_xtwo","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Grid","_ref","onCardReveal","resetTrigger","onCoinCreate","carts","setCarts","revealed","setRevealed","Array","fill","five","cash","bomb","xtwo","zero","fiveValues","fiveCards","map","type","value","Math","floor","random","length","allCarts","shuffled","sort","handleClick","index","clickedCard","prev","updated","cardElement","document","querySelectorAll","concat","item","rect","getBoundingClientRect","x","left","width","y","top","height","formatNumber","num","className","Carts","children","container","list","card","isRevealed","onClick","flipCardInner","flipped","cardFront","cover","cardBack","itemData","imageLight","imageLightFive","imageLightCash","imageLightBomb","imageLightXtwo","imageLightZero","style","backgroundImage","imageLightXtwoOverlay","iconFive","src","alt","number","iconBomb","iconCash","numberXtwo","numberZero"],"sources":["/Users/mac/Desktop/test-task/Test-Task/src/components/Grid/Grid.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styles from \"./Grid.module.css\";\n\nimport image_light from \"../../assets/images/light.png\";\nimport image_cash from \"../../assets/images/cash.png\";\nimport image_bomb from \"../../assets/images/bomb.png\";\nimport image_five from \"../../assets/images/five.png\";\nimport image_fon_xtwo from \"../../assets/images/x20-fon.png\";\n\nfunction Grid({ onCardReveal, resetTrigger, onCoinCreate }) {\n    const [carts, setCarts] = useState([]);\n    const [revealed, setRevealed] = useState(Array(9).fill(false));\n\n    const five = 5;\n    const cash = 1;\n    const bomb = 1;\n    const xtwo = 1;\n    const zero = 1;\n\n    useEffect(() => {\n        const fiveValues = [100, 500, 1000, 10000];\n        const fiveCards = Array(five)\n            .fill(null)\n            .map(() => ({\n                type: \"five\",\n                value: fiveValues[Math.floor(Math.random() * fiveValues.length)],\n            }));\n\n        const allCarts = [\n            ...fiveCards,\n            ...Array(cash).fill({ type: \"cash\" }),\n            ...Array(bomb).fill({ type: \"bomb\" }),\n            ...Array(xtwo).fill({ type: \"xtwo\" }),\n            ...Array(zero).fill({ type: \"zero\" }),\n        ];\n\n        const shuffled = [...allCarts].sort(() => Math.random() - 0.5);\n        setCarts(shuffled);\n        setRevealed(Array(9).fill(false));\n    }, [resetTrigger]);\n\n\n\n    const handleClick = (index) => {\n        if (revealed[index]) return;\n\n        const clickedCard = carts[index];\n\n        setRevealed((prev) => {\n            const updated = [...prev];\n            updated[index] = true;\n            return updated;\n        });\n\n        if (onCardReveal) {\n            onCardReveal(clickedCard, index);\n        }\n\n        if (onCoinCreate) {\n            const cardElement = document.querySelectorAll(`.${styles.item}`)[index];\n            const rect = cardElement.getBoundingClientRect();\n\n            onCoinCreate({\n                x: rect.left + rect.width / 2,\n                y: rect.top + rect.height / 2\n            }, clickedCard);\n        }\n    };\n\n\n\n\n    const formatNumber = (num) => {\n        return num >= 1000 ? `${num / 1000}K` : num;\n    };\n\n    return (\n        <div className={styles.Carts}>\n            <div className={styles.container}>\n                <ul className={styles.list}>\n                    {carts.map((card, index) => {\n                        const isRevealed = revealed[index];\n\n                        return (\n                            <li\n                                key={index}\n                                className={`${styles.item} ${isRevealed ? styles[card.type] : \"\"}`}\n                                onClick={() => handleClick(index)}\n                            >\n                                <div className={`${styles.flipCardInner} ${isRevealed ? styles.flipped : \"\"}`}>\n                                    <div className={styles.cardFront}>\n                                        <div className={styles.cover}>$</div>\n                                    </div>\n\n                                    <div className={`${styles.cardBack} ${styles.itemData}`}>\n                                        {isRevealed && (\n                                            <>\n                                                <div\n                                                    className={`\n                                                        ${styles.imageLight}\n                                                        ${card.type === \"five\" ? styles.imageLightFive : \"\"}\n                                                        ${card.type === \"cash\" ? styles.imageLightCash : \"\"}\n                                                        ${card.type === \"bomb\" ? styles.imageLightBomb : \"\"}\n                                                        ${card.type === \"xtwo\" ? styles.imageLightXtwo : \"\"}\n                                                        ${card.type === \"zero\" ? styles.imageLightZero : \"\"}\n                                                      `}\n                                                    style={{ backgroundImage: `url(${image_light})` }}\n                                                ></div>\n\n                                                {card.type === \"xtwo\" && (\n                                                    <div\n                                                        className={styles.imageLightXtwoOverlay}\n                                                        style={{ backgroundImage: `url(${image_fon_xtwo})` }}\n                                                    ></div>\n                                                )}\n                                            </>\n                                        )}\n\n\n                                        {card.type === \"five\" && (\n                                            <>\n                                                <img\n                                                    className={styles.iconFive}\n                                                    src={image_five}\n                                                    alt=\"five\"\n                                                />\n                                                <h1 className={styles.number}>\n                                                    {formatNumber(card.value)}\n                                                </h1>\n                                            </>\n                                        )}\n                                        {card.type === \"bomb\" && (\n                                            <img\n                                                className={styles.iconBomb}\n                                                src={image_bomb}\n                                                alt=\"bomb\"\n                                            />\n                                        )}\n                                        {card.type === \"cash\" && (\n                                            <img\n                                                className={styles.iconCash}\n                                                src={image_cash}\n                                                alt=\"cash\"\n                                            />\n                                        )}\n                                        {card.type === \"xtwo\" && (\n                                            <h1 className={styles.numberXtwo}>x2</h1>\n                                        )}\n                                        {card.type === \"zero\" && (\n                                            <h1 className={styles.numberZero}>0</h1>\n                                        )}\n                                    </div>\n                                </div>\n                            </li>\n                        );\n                    })}\n                </ul>\n            </div>\n        </div>\n    );\n}\n\nexport default Grid;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}